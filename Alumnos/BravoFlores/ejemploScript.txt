USE [ejmploBases]

CREATE TABLE CLIENTE(
id_Cliente INT NOT NULL,
nombre_Cliente VARCHAR(50) NOT NULL,
estado VARCHAR(20) NOT NULL,
CONSTRAINT CLIENTE_PK PRIMARY KEY (id_Cliente)
)

CREATE TABLE ARTICULO(

num_Art INT NOT NULL,
nom_Art VARCHAR(30) NOT NULL,
precio INT NOT NULL,
CONSTRAINT ARTICULO_PK PRIMARY KEY (num_Art)
)


CREATE TABLE ORDEN(

id_Orden INT NOT NULL,
id_Cliente INT NOT NULL,
fecha DATETIME NOT NULL,

CONSTRAINT ORDEN_PK PRIMARY KEY (id_Orden),
CONSTRAINT ORDEN_FK FOREIGN KEY (id_Cliente) REFERENCES CLIENTE
)


CREATE TABLE ORDEN (
id_Orden INT NOT NULL,
num_Art INT NOT NULL,
cantidad INT NOT NULL,
CONSTRAINT ORDEN_UNI UNIQUE (id_Orden),
CONSTRAINT ORDEN_PK PRIMARY KEY (id_Orden,num_Art),
CONSTRAINT ARTICULO_FK FOREIGN KEY (num_Art) REFERENCES ARTICULO (num_Art)
)

CREATE TABLE FECHA (
id_Orden INT NOT NULL,
id_Cliente INT NOT NULL,
fecha DATETIME NOT NULL,
CONSTRAINT FECHA_PK PRIMARY KEY (id_Orden,id_Cliente),
CONSTRAINT ORDEN_FK FOREIGN KEY (id_Orden) REFERENCES ORDEN (id_Orden),
CONSTRAINT CLIENTE_FK FOREIGN KEY (id_Cliente) REFERENCES CLIENTE (id_Cliente)
)


